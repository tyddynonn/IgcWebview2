<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width">
    <title>IGC Viewer help</title>
    <link rel="stylesheet" href="igctext.css" />
</head>

<body>
    <div id='titlediv'>
        <h1>IGC Webview User Instructions</h1>
        <p> &copy; 2016 Alistair Malcolm Green and Richard Brisbourne </p>
    </div>
    <div class="content">
        <p>
            IGC Webview is a web based application for viewing logger traces in IGC format. Nearly all gliding loggers now either record
            in that format or save files in it- for any others including those not originally designed for gliding purposes,
            there are conversion programs out there; a popular example is <a href="http://www.gpsbabel.org" target="_blank">GPSBabel</a>.
            Igc files can normally be identified by the extension &quot;.igc&quot;.
        </p>
        <p>
            IGCWebview runs on a wide range of devices and operating systems; all you need is an internet connection and a browser with
            Javascript enabled. It uses world-wide mapping so can be used for flights made anywhere.
        </p>
        <p>
            Although designed to be as intuitive as possible, the program has one or two features you might miss, so please read this
            if you haven't used it before.
        </p>

        <h2>Getting started</h2>
        <p>Simple. Ignore the &quot;Select Task Source&quot; setting for now. Click the &quot;Browse&quot; button and select an igc file from
            your local computer or device. On load a map will open up, and information from the
            file header will be displayed. The map will also show the location of any controlled/special use airspace in
            the area, if we have the data. If the file contains a task declaration this will also be shown on the map, together
            waypoint observation zones as defined in the FAI Sporting Code.  If you are viewing on a PC or (typically) a tablet in landscape mode, you will see a barogram alongside the map.   On smaller screens (eg: phones) you can toggle between the map and barogram by touching the buttons.
        </p>

        <h2>Altering the display</h2>
        <p>
            You can move around and zoom in or out on the map- if you've ever used Google Earth it works the same way. Click and drag
            to move; zoom in using the "+-" top left, scroll wheel, or on a tablet, "pinching". To reduce clutter you can
            control the airspace clip altitude, or lose the airspace display altogether. 
        </p>
        <p>
              By default, the display shows the Google Maps terrain view.  This works well in flatlands (you can see where the ridges are), but can be confusing in the mountains.  If you go to "Map" on the top left hand corner of the map, you can uncheck "Terrain"; the display will then revert to the standard road map.
        </p>
        <h2>Moving round the track</h2>
        <p>
            Use the slider control below the map to move the aircraft icon round the track. The text below the map will give the time
            and your position,  altitude, and a 30 second climb/sink rate. The crosshairs on the barogram will also show altitude and time, and if you  click on the barogram; the glider will move to the point you've clicked on.. Times are time zone adjusted.
          </p>
          <p>
            You can also find height above terrain by clicking the "Height AGL" button- with the proviso that this uses the Google Maps elevation data- so ground elevation assumed is at the nearest mapped point to the glider's location.  In the developed world this is usually within about 300 metres, which may not be totally reliable in the mountains.   If the glider was thermalling at the selected point "Thermal Detail" will give you the gain and average climb rate, and an estimate of wind strength (assuming constant airspeed and constant wind speed through the climb).
        </p>

        <h2>Tasks</h2>
        <p>
           By default, IGCWebview will look for a task declaration in the IGC file and load that (or leave the task section blank if there isn't one).  However you will see a row of radio buttons under the heading "Select task source".  If you select "User entry" a dialogue will appear- you can then enter start, finish and  turning points from the BGA or Welt2000 lists, or simply enter as latitude and longitude.  Alternatively you can select XCWebPlan; a copy of XCWebPlan will open and you can use that.   This is a bit more complicated- see below.  Either procedure will work whether or not you have an IGC file open.  At any time you can select "IGC File" here, and the task will revert to the one in the currently loaded file.
        </p>
        
        <h2>Importing a task from  XCWebPlan</h2>
        <p>
           Users in the UK will find it easy to enter BGA trigraphs to define a task; for users elsewhere entering latitudes and longitudes by hand will work, but is a pain.  If you have a suitable waypoint file available (".cup" or ".dat" format), an easy alternative is to mark out your task in XCWebPlan, and import it.  The process is simpler than it looks provided you do it as per instructions:
           <ol>
           <li>Click on the "Load" button in the "Task user entry" section.  A copy of XCWebPlan will open in another tab in your browser.</li>
           <li>In XCWebPlan accept the airspace disclaimer and then select the waypoint file of your choice.  This must be on your PC or device.</li>
           <li>Enter your task by clicking on the map.  If you haven't used XCWebPlan before, consult the help file that comes with it.</li>
           <li>Once you have entered the task a "Copy task" button will appear bottom right.  Click on it and you should get a message saying the task has been copied over.</li>
           <li>Switch back to the "XCWebView" tab, and you will see your new task entered.</li>
           <li>You can repeat the process as often as you like by simply switching back to the same tab with XCWebPlan on it.</li>
           </ol>
           Please note the process will only work if done as above; because there are very reasonable limitations on interaction between web pages for security reasons, it's a bit fiddly.  In particular, it will only work if you open the copy of XCWebPlan from inside IGCWebview- if it's opened by another route it won't recognise what it's supposed to be talking to (and you won't see the "copy task" button). Another limitation is that  you will have to switch between tabs manually;  you won't see what's happening in the tab behind the current one, although we've provided messages which will hopefully tell you.</p>
        </p>
        
         <h2>Checking your performance</h2>
        <p>
            You can easily find out the speed you made around the task or how far short you were.  If you have both a task and an IGC file entered, click on the "Analyse task" button below the map.  If you completed the task it will show your speed; if you failed it will show your scoring distance (defined as the distance as far as the first failed turning point, minus the distance you were short of it).  A pin image will appear on the map marking your nearest approach to the failed point.
        </p>
        <p>
        Start, finish, and turning point sectors used in the calculation are defined as shown on the map.  If you want to use something else, you can change these (see below).
        </p>
        
        <a name='alt' />
        <h2>Altitude reference setting</h2>
        <p>IgcWebView lets you define how altitude or height is calculated and displayed.  To configure this click on the "Altitude ref." button.
        <p>IGC loggers record pressure altitude referenced to the international standard of 1013.25 millibars- the same value you set your altimeter to to show flight levels.  How this relates to your altitude depends on the weather.  This is the default for the application, shown as "std". </p>
        <p>As an alternative you can elect to show height above your take-off point, selected as "QFE takeoff" and displayed as "QFE".  </p>
        <p>Another option is to select "QNH", notionally height above sea level.  The application looks up the height above sea level at your takeoff point using Google's elevation API and makes the necessary adjustment.  Accuracy is dependant on the precision of Google's mapping, but most airfields are flat, and on tests so far it works well. </p>
        <p>You may also choose between using pressure or GPS data sources.  It is strongly advised you use pressure, the default setting.  The application will fall back to using GPS altitude if pressure isn't available- if pressure is set as a preference it will warn you when doing this.</p>
        <p>Handling of GPS altitude will vary between instruments.  The simplest earth model widely used is the "WGS84 ellipsoid", a neat mathematical model of the earth's shape.  This is the preferred reference in the IGC specification, and found in recent loggers.  Unfortunately in the real world, sea level and the ellipsoid don't coincide, and something called "geoid correction" is needed to take care of local variations which can be as much as 50 metres.  Most commercial GPS systems (and many older loggers) have geoid correction tables built in, so we've no way of knowing what we've got.  So if you select "Standard" as your reference and GPS as your source you will be shown raw data from the file, reference point uncertain.  Select either of the other two options and you will get a calculated offset as with pressure.  Be aware that then despite the fact that we are using "QFE" and "QNH" as convenient abbreviations, they aren't quite the same as the real thing.  In particular "altitude" as defined for controlled airspace means pressure altitude.</p>
         <h2>Control sectors</h2>
        <p>
           The defaults in the program are as follows:
           <ul>
           <li>Start:  A line radius 5 Km (ie: 10 Km long) centred at the start point, at right angles to the first leg.</li>
           <li>Turning points: A circle 0.5 Km radius centred on the point, <b> plus</b> a sector 20 Km radius subtending an angle of 90&deg; remote from and centred on the bisector of the tracks in and out (the "FAI thistle").</li>
           <li>Finish: A line of 1 Km radius at right angles to the last leg centred on the finish point.</li>
           </ul>
           If you want something else you can click on the "Configure TP sectors" button make changes, then click "Apply".  "Restore defaults" simply restores the values above, you still need to "apply" afterwards.  The values entered will always stick until you make a further change or close the page.  If you want them to apply next time you load the page, tick the "Save" box before "apply".
        </p>
       <a name='enl' />
        <h2>Engine detection</h2>
        <p>
        By default, IGCWebview ignores any detection of engine runs.  If you don't want engine detection, you are advised to leave it like that.  If on the other hand you want to see when the engine was running, and have it taken into account in task evaluation, click on the "Engine" button, and select "ENL engine detect" "On".  There are also some configuration options- the defaults will work for most flights but options for change are provided in case you need them.
        </p>
        <p>To explain further we need to get technical.  The usual method of testing for an engine run is by a sensor in the logger picking up environmental noise level ("ENL") and recording it alongside each position fix.  This enters the log as a number between 0 and 999.  Unfortunately the actual number obtained will depend on how noisy the engine is, how noisy the glider is (and it can be very noisy at 100 knots with the clear vision panel open), the actual sensor used and its position.    In some cases looking at a graph of ENL against time it's easy to see when the engine's running, sometime it isn't.  Also a noisy glider can have a higher ENL recorded  than a quiet one with the engine running.  Competition rules get round this by mandating a short calibration run before the start line, we can't count on that. If the default threshold value doesn't work for you you have the option of changing it.  With engine detection enabled the ENL is shown on a seperate plot on the barogram, with a horizontal line showing the position of the threshold; this will help you see what is happening.  
        </p>
        <p>
        There is a further configuration option; the length of time a higher noise level needs to continue for until it is interpreted as an engine run.   This is because odd spikes appear in the record, usually associated with events such as lowering the undercarriage.  The default is the commonly used 12 seconds  (typical recording intervals are 2 or 4 seconds) but you have the option of changing it.
        </p>
        <h2>A word about controlled airspace</h2>
        <p>
        The disclaimer is there for a reason.   We maintain the files as up to date as we can; our principal source of data is <a href="http://soaringweb.org" target="_blank">soaringweb.org</a>, but we also use some other sources.  There are some countries where we have no data at all.  The data is put together by different people, with their own criteria of what to include or omit.   As pilots we have to deal with a number of variations of airspace, apart from the normal classes A to G we have to worry about parachute zones, military air traffic zones, transponder mandatory zones, radio mandatory zones  and prohibited and danger zones which may or may not have designated activity times and maybe or maybe not accessible with radio clearance.   Rather that try to cope with all that on a global basis, we've provided you with some lines on the map which hopefully are the same as those on your chart, and credit you with knowing what you are doing.  Always check the chart before you fly!
        </p>
        <h2>Tablets and Smart Phones</h2>
        <p>
        IGCWebview will run happily on Android.  On narrow screens it will switch automatically to "mobile mode".  Instead of showing the barogram and map together, you toggle between the two.  You also have the opportunity to hide portions of the display, to make better use of the screen.  Generally on mobiles, portrait orientation works best.  Most seven inch tablets will display in wide screen in landscape orientation, narrow screen in portrait- you can see what works best for you.
        </p>
        <p>Browsers are continually being updated, but at the time of writing, based on our testing on Android we favour Chrome as having the best response to the slider.
        </p>
        <h2>About IGCWebview</h2>
        <p>
            IGCWebview is an open source program. This means that the code is free for anyone to copy, modify and distribute, subject
            to the terms of the <a href="LICENSE.txt" target="_blank">licence</a>. It makes substantial use of
            other open source program code and libraries also data distributed under Creative Commons copyright arrangements.
            For a full list of sources and contributors see our <a href="igcabout.html"> about</a> page.
        </p>

        <h2>Feedback</h2>
        <p>
            We're interested in how well this works for you. Any ideas, suggestions, and (particularly) bug reports should be added to
            the <a href="https://github.com/GlidingWeb/IGCWebView/issues" target='_blank'>GitHub issue tracker</a>            or e-mailed to <a href="mailto:igcwebview@glidingweb.org">igcwebview@glidingweb.org</a>. If you are a developer
            interested in the program from a technical point of view, and maybe looking at the code and possibly contributing,
            there's a lot more information on our <a href="igcabout.html" target="_blank">&quot;about&quot; page</a>.
        </p>
        <button onClick="window.close()">Close window</button>
    </div>
</body>

</html>